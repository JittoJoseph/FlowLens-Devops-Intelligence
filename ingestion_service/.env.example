# FlowLens Ingestion Service Configuration
# ===========================================

# MODE: Choose your deployment mode
# - "production" = Full service with YugabyteDB
# - "discord" = Testing mode with Discord webhook logging

# YugabyteDB Connection (for production mode)
# Get this from your YugabyteDB Cloud dashboard
DATABASE_URL=postgresql://username:password@host:port/database?ssl=true

# GitHub Webhook Secret
# Generate a random string for webhook signature verification
# Use the EXACT same value in your GitHub webhook configuration
GITHUB_WEBHOOK_SECRET=your_secure_random_string_here

# Server Configuration
PORT=3000
NODE_ENV=production

# ===============================================
# Example YugabyteDB Cloud URL format:
# DATABASE_URL=postgresql://admin:your_password@host-cluster-id.aws.ybdb.io:5433/yugabyte?ssl=true

# To generate a secure webhook secret, use:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# ===============================================
# DISCORD MODE SETUP (for testing)
# ===============================================
# 1. Use index-discord.js instead of index.js
# 2. Discord webhook URL is hardcoded in the service
# 3. No database required for testing
# 4. All events are forwarded to Discord + saved as files

# Commands for Discord mode:
# npm run dev:discord     # Local development
# npm run start:discord   # Production start

# Example .env for Discord mode:
# GITHUB_WEBHOOK_SECRET=a1b2c3d4e5f6...
# NODE_ENV=production
# PORT=3000
